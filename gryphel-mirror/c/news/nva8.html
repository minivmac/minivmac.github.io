<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html lang="en"><head><title> Gryphel Project News Volume 8 </title><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="canonical" href="nva8.html"></head><body><div><i> <a href="../../index.html">www.gryphel.com</a>/c/<a href="index.html">news</a>/nva8- <a href="../feedback.html">feedback</a> </i></div><hr><h3 align=center>	Gryphel Project News</h3><h3 align=center>	Volume 8</h3><hr><p><a href="nva9.html#end">More Recent News</a>(<a href="index.html">Index</a>)</p><p>:</p><p><a name="n200105"> <b>January 5, 2020</b> </a>- <a href="nva8.html#n200105">permanent link</a></p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>now treats an operand such as &ldquo;0(A3)&rdquo; the sameas &ldquo;(A3)&rdquo;, using addressing mode 2 instead of addressingmode 5 with a zero offset. This is useful when the offset is a namedconstant for the offset of a field in a record, so that you canefficiently use a field with the same syntax regardless of whether it isthe first field. In the unlikely case that you really want to useaddress mode 5 with an offset of 0, there is a new syntax,&ldquo;0!(A3)&rdquo;. (I decided upon this syntax instead of theOPT directive of the MPW assembler, to avoid modes.)</p><p>A new development version of<a href="../minivmac/extras/clipout/index.html">ClipOut</a>begins to take advantage of this change in ReAsm syntax andalso the new &ldquo;=&rdquo; synonym for &ldquo;EQU&rdquo;.</p><p>A new version of<a href="../minivmac/extras/fdisasm/index.html">FDisasm</a>generates the new &ldquo;!&rdquo; syntax foraddress mode 5 with an offset of 0, to be compatible withthe new version of ReAsm. (Which is incompatible with the MPWassembler, but this should be a rare issue.) It also fixesa recent issue where it would not work if &ldquo;format&rdquo;is absent. It also changes the behavior if &ldquo;bin_map&rdquo;is absent - instead of a hex dump, it will disassemble assumingit is code. This is inappropriate for most files, but on the wholeis still more useful than a hex dump, for the times it is appropriate,such as for testing a few instructions in FDisasm. For most files whereit is inappropriate, you would use FindRes first, whichcreates the &ldquo;bin_map&rdquo; file.</p><p><a name="n191229"> <b>December 29, 2019</b> </a>- <a href="nva8.html#n191229">permanent link</a></p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>checks for undefined local labels upon reaching the &ldquo;}&rdquo;,allowing a more useful error. It also allows using &ldquo;=&rdquo;as a synonym for &ldquo;EQU&rdquo;.</p><p><a name="n191222"> <b>December 22, 2019</b> </a>- <a href="nva8.html#n191222">permanent link</a></p><p>There is now an initial Alpha branch of<a href="../minivmac/extras/clipout/index.html">ClipOut</a>that has been ported to ReAsm, to further test ReAsm and FDisasm.</p><p>A new version of<a href="../minivmac/extras/fdisasm/a/index.html">FDisasm</a>,when compiled in listing mode, will now always mark(with &ldquo;!!&rdquo;) a program relative address that has no namedefined, to make it easier to find problems that prevent reassembly.</p><p>A new development version of<a href="../minivmac/extras/findres/index.html">FindRes</a>,when writing resource names to a comment, will replace illegalcharacters in a resource name with %XX syntax.</p><p><a name="n191215"> <b>December 15, 2019</b> </a>- <a href="nva8.html#n191215">permanent link</a></p><p>I've obtained a Mac Mini so as to be able to better support recentversion of MacOS.Mini vMac seems to run fine on 10.14 Mojave and 10.15 Catalina.The operating systems though seemed a bit flaky, when trying toget both installed on different volumes. But I got it workingeventually.</p><p>Also, I&rsquo;ve tried out putting the signed checksum in a separatetext file, instead of on the web page, for 5 Mini vMac extras indevelopment:<a href="../minivmac/extras/reasm/index.html">ReAsm</a>,<a href="../minivmac/extras/findres/index.html">FindRes</a>,<a href="../minivmac/extras/dolaunch/index.html">DoLaunch</a>,<a href="../minivmac/extras/copyroms/index.html">CopyRoms</a>,<a href="../minivmac/extras/dafkey/index.html">DAFKEY</a>.This is to make it easier to save with the downloaded file.The size information after the download link has been replaced with alink (labeled &ldquo;info&rdquo;) to the signed checksum, which nowincludes the file size.</p><p><a name="n191208"> <b>December 8, 2019</b> </a>- <a href="nva8.html#n191208">permanent link</a></p><p>A new version of<a href="../minivmac/extras/fdisasm/a/index.html">FDisasm</a>adds a new option, &ldquo;|&rdquo; that indicates the options followingit apply after the end of the current instruction. This is used printcomments after the end of a instruction, and can be a bit more clearand convenient than what would previously be needed, to have commentsthat precede the following instruction.</p><p>A new development version of<a href="../minivmac/extras/findres/index.html">FindRes</a>makes use of this new syntax.</p><p>There is now an Alpha branch of<a href="../minivmac/extras/dolaunch/index.html">DoLaunch</a>that has been ported to ReAsm, to test the latest changesFindRes and FDisasm.</p><p>The formatting information for the Macintosh Plus version 3 ROM atthe Alpha<a href="../minivmac/extras/fdisasm/a/roms.html">FDisasm ROM</a>page has been updated to match recent changes in resource formatproduced by FindRes, including using &ldquo;|&rdquo;</p><p><a name="n191201"> <b>December 1, 2019</b> </a>- <a href="nva8.html#n191201">permanent link</a></p><p>The Alpha branch of<a href="../minivmac/extras/copyroms/index.html">CopyRoms</a>has been edited to try to have a more readable format.</p><p>A new development version of<a href="../minivmac/extras/findres/index.html">FindRes</a>matches the new format in CopyRoms. Also, it now checksif the &ldquo;format&rdquo; and &ldquo;bin_map&rdquo;already exist, and refuses to overwrite them, to avoidaccidentally losing work.</p><p>And, the Alpha branch of<a href="../minivmac/extras/dafkey/index.html">DAFKEY</a>has also been updated to this new formatting.</p><p><a name="n191124"> <b>November 24, 2019</b> </a>- <a href="nva8.html#n191124">permanent link</a></p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>supports in a more places a constant expression with additionand subtraction, rather than only a simple numeric constant ornamed constant (i.e. &ldquo;a - b + $5&rdquo; insteadof &ldquo;$5&rdquo; or &ldquo;a&rdquo;).</p><p>The Alpha branch of<a href="../minivmac/extras/copyroms/index.html">CopyRoms</a>has also been updated to take advantage.</p><p><a name="n191117"> <b>November 17, 2019</b> </a>- <a href="nva8.html#n191117">permanent link</a></p><p>There is now an Alpha branch of<a href="../minivmac/extras/copyroms/index.html">CopyRoms</a>that has been ported to ReAsm, to make it more open source,and to continue testing of ReAsm and FDisasm. CopyRoms isa bit more complicated than the last port, of DAFKEY.</p><p>A new version of<a href="../minivmac/extras/fdisasm/a/index.html">FDisasm</a>supports using the &ldquo;CN&rdquo; option for addressing mode 5.Also, the &ldquo;CN&rdquo; option nos supports negative numbers.</p><p><a name="n191110"> <b>November 10, 2019</b> </a>- <a href="nva8.html#n191110">permanent link</a></p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>allows using short strings as integers. For example,using 'DRVR' instead of $44525652.</p><p>A new version of<a href="../minivmac/extras/fdisasm/a/index.html">FDisasm</a>adds an &ldquo;IS&rdquo; option for outputting such strings insteadof hexadecimal integers. Also, the &ldquo;BN&rdquo; option forgenerating binary integers instead of hexadecimal integers can nowbe used for instruction arguments, not just DC directives.</p><p>The formatting information for the Macintosh Plus version 3 ROM atthe Alpha<a href="../minivmac/extras/fdisasm/a/roms.html">FDisasm ROM</a>page has been updated to take advantage of the new&ldquo;IS&rdquo; option.</p><p>And, the Alpha branch of<a href="../minivmac/extras/dafkey/index.html">DAFKEY</a>has also been updated to take advantage of this option.</p><p><a name="n191103"> <b>November 3, 2019</b> </a>- <a href="nva8.html#n191103">permanent link</a></p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>adds a way to restrict the scope of a global label.After the line &ldquo;<i>a_label</i>&gt;&rdquo;, <i>a_label</i> canno longer be used (but it can be redefined to something else).Before the line &ldquo;<i>a_label</i>&lt;&rdquo;, forward referencesto <i>a_label</i> can not be used. As a convenience, theline &ldquo;<i>a_label</i>:&lt;&rdquo; is equivalent to&ldquo;<i>a_label</i>&lt;&rdquo; followed by&ldquo;<i>a_label</i>:&rdquo;. (&ldquo;:&lt;&rdquo; is usedinstead of &ldquo;&lt;:&rdquo; to make it easier to searchfor the definition of a label.)</p><p>This syntax also works for identifiers defined by EQU and OPWORD.&ldquo;<i>an_identifier</i>&gt;&rdquo; ends the scope. There are noforward references to these identifiers, but it is still legalto use &ldquo;<i>an_identifier</i>&lt;&rdquo;.</p><p>Made possible by this new feature of ReAsm, there is nowan Alpha branch of<a href="../minivmac/extras/dafkey/index.html">DAFKEY</a>that has been ported to ReAsm.The binary is so far identical to the stableversion, but eventually I'll take advantage of the completecontrol offered by ReAsm to clean up a few things. But themain reason for porting to ReAsm is to make it moreopen source. Now anyone can compile or modify DAFKEY withoutneeding development tools that aren't for sale anymore.DAFKEY was chosen to port first since it is one ofthe simplest Mini vMac extras.</p><p>A new version of<a href="../minivmac/extras/fdisasm/a/index.html">FDisasm</a>fixes a bug affecting parsing floating hex constants. Which preventeddisassembling the Mac II ROM correctly.</p><p><a name="n191020"> <b>October 20, 2019</b> </a>- <a href="nva8.html#n191020">permanent link</a></p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>supports using a register name with the EQU directive. It alsofixes including an empty file.</p><p><a name="n191013"> <b>October 13, 2019</b> </a>- <a href="nva8.html#n191013">permanent link</a></p><p>The formatting information for the Macintosh Plus version 3 ROM atthe Alpha<a href="../minivmac/extras/fdisasm/a/roms.html">FDisasm ROM</a>page has been updated to start to take advantage of new featuresin last weeks FDisasm.</p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>can assemble the resulting listing.</p><p><a name="n191006"> <b>October 6, 2019</b> </a>- <a href="nva8.html#n191006">permanent link</a></p><p>A new version of<a href="../minivmac/extras/fdisasm/a/index.html">FDisasm</a>allows using the AC/SC options, and J/D options, for Absolute addressingmodes of instruction arguments.</p><p>Also, Immediate Data arguments can be treated as absolute addresses,looking them up in &ldquo;abs_names&rdquo; file, by using a new&ldquo;AD&rdquo; option.</p><p>And also, a new &ldquo;CN&rdquo; option allows specifying that anImmediate Data argument is a named constant. The previous techniqueof using &ldquo;AC&rdquo; to name the constant, with the remainingzero value suppressed, no longer works (the zero is not suppressed).</p><p><a name="n190929"> <b>September 29, 2019</b> </a>- <a href="nva8.html#n190929">permanent link</a></p><p>A new version of<a href="../minivmac/extras/fdisasm/a/index.html">FDisasm</a> allowsusing the AC/SC/DC options, and J/D options, for constant arguments ofinstructions. (Previously these could only be used DC directives.)</p><p><a name="n190922"> <b>September 22, 2019</b> </a>- <a href="nva8.html#n190922">permanent link</a></p><p>A new version of<a href="../minivmac/extras/fdisasm/a/index.html">FDisasm</a> allowsusing names for the AC, SC, and DC options, like the J option does. ForAC and SC the value can now be zero, which can be useful for a namedconstant of value zero. To implement this, there is now a flag variableto indicate which options, since zero can&rsquo;t be used to indicatedthe option isn&rsquo;t used. Similarly, the value for DC can be one.</p><p>The AC/SC/DC options can now persist across multiple DC directives,just like it does for the J option. These options are cleared whenthere is a new type option, or when instructions are disassembled.</p><p>The J option can now be used without specifying the D option, it isjust implied.</p><p>The AC/SC/DC options can now also be used for DC directives thatare not the difference of two labels.In this case, if there is an AC option value that is equal to the data,then the &ldquo;0 +&rdquo; is suppressed.So this provides a way to specify a named constant.</p><p><a name="n190915"> <b>September 15, 2019</b> </a>- <a href="nva8.html#n190915">permanent link</a></p><p>A new version of<a href="../minivmac/extras/fdisasm/a/index.html">FDisasm</a>begins to add the same basic concept of types that ReAsm has.This is used to correctly to correctly handle instructions such as&ldquo;FAdd.S #"$5F800000", FP0&rdquo;, seen in the Macintosh IIciROM.</p><p>The Alpha<a href="../minivmac/extras/fdisasm/a/roms.html">FDisasm ROM</a>page has updated formatting information for the Macintosh IIciROM to take advantage.</p><p>Further, FDisasm now has type options that can be used forDC directives: in addition to B/W/L, there is SB/SW/SL forsigned and UB/UW/UL for unsigned.</p><p><a name="n190908"> <b>September 8, 2019</b> </a>- <a href="nva8.html#n190908">permanent link</a></p><p>The Alpha<a href="../minivmac/extras/fdisasm/a/roms.html">FDisasm ROM</a>page has the start of formatting information for the Macintosh IIciROM, begun for further testing of ReAsm and FDisasm. I thinkthis is the first Macintosh ROM to make significant use ofMMU instructions.</p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>fixes a few things found. It implements thePFlushA instruction. It fixes a bug with FMoveM forcontrol registers with predecrement addressing. And it implements68020 long branches.</p><p>There is also a new version of<a href="../minivmac/extras/fdisasm/a/index.html">FDisasm</a>to fix a bug with the ALIGNB directive.</p><p><a name="n190901"> <b>September 1, 2019</b> </a>- <a href="nva8.html#n190901">permanent link</a></p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>implements the few 68851 PMMU instructions used in the MacintoshII and IIx ROMs.</p><p>These instructions were already implemented in FDisasm(by Rob Braun). But there is still a new version of<a href="../minivmac/extras/fdisasm/a/index.html">FDisasm</a>to output these instructions in the format compatible with ReAsm.</p><p>The Alpha<a href="../minivmac/extras/fdisasm/a/roms.html">FDisasm ROM</a>page has updated formatting information for both versions ofthe Macintosh II ROM and the Macintosh IIx ROM, to takeadvantage. (Instead of using DC.W constants for theseinstructions.)</p><p><a name="n190825"> <b>August 25, 2019</b> </a>- <a href="nva8.html#n190825">permanent link</a></p><p>The Alpha<a href="../minivmac/extras/fdisasm/a/roms.html">FDisasm ROM</a>page now has formatting information both versions of the MacintoshII ROM, and also for the Macintosh IIx ROM. ReAsm can be used onthe output to get back exactly the original ROM image.</p><p>These ROMs have a few 68851 PMMU instructions which are notsupported by ReAsm and FDisasm yet. So these instructionsare just treated as DC.W constants for now.</p><p><a name="n190818"> <b>August 18, 2019</b> </a>- <a href="nva8.html#n190818">permanent link</a></p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>implements a few things previously missed. Like the Pack, Unpk, BFTST,BFSET, Tcc, and TPcc instructions, and k factors for FMove.P.</p><p>There is also new version of<a href="../minivmac/extras/fdisasm/a/index.html">FDisasm</a>.Taking the compiled form of the ReAsm test suite and running itthrough FDisasm turned up a number of things to fix.Like implementingPack, Unpk, Tcc, and TPcc instructions, and k factors for FMove.P.And the FSave, FRestore, FScc, FDBcc, FTcc, and FTPcc instructions.Also using FBT instead of FBRA to match MPW syntax. And usinga colon instead of comma for the FSinCos to match MPW syntax.&ldquo;FBF (* + 2)&rdquo; is recognized as FNop. FMoveM ofa single control register is recognized as FMove. For instructionslike FInt, if the source and destination are the same, the secondargument can be omitted.</p><p><a name="n190811"> <b>August 11, 2019</b> </a>- <a href="nva8.html#n190811">permanent link</a></p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>implements the remaining MC68881 FPU instructions that were not neededfor the Macintosh II ROM.</p><p> ------ </p><p>Thanks toChris Hanson,David Kuntz,Anonymous,Robert Braun,Robert Anderson,Michael Hix,Patrick Ronquillo,Shawn McKee,Gian-Reto Theus,Ian Miller,Jason Heiser,Jeffry Rollins,Anonymous,Keith Palmer,Mark Hilary Williams,Charles Gascoigne,Andrew Johnstone,Mirko Holzer,Macintosh Repository,Joe Ho,Juan Sanz,Thomas Chan,Villa Vianci di Ceccherini Chiara,Anonymous,Paul Powers,Thomas Harvey,Matti Riikonen,Anthony Allen,Sverre Svenningsen,Ben Rentfrow,Eric DeStefano,Scott Rickard,Matthew Kirschenbaum,Hayden Ganadi,Pascal Kamina,Kustaa Nyholm,Arthur Fritzsche,Doug Bergen,David Watson,John Sutley,Thomas Hemenway,Chaled Schmidt,Austin-Zande Imagery,Alexis Gargaloni,William Sniegowski,Andrew Ego,Richard Hillier,Erik Anderson,Sabine Busse,Francisco Jos&eacute; Ram&iacute;rez Vicente,Chris Royle,Marie Friis,Andrew Gray,Paul Day,RevereWareParts.com,Fr&eacute;d&eacute;ric Blondiau,Joshua Russell,Ed Brandt,Hans-Josef Leuninger,Mohideen Haja,Christopher Tar,Stephen Fenwick,Ryan Baumgart,Henry Shawcross,Alex Rader,Johannes Bittner,Nathanael Tronerud,Alexis Gargaloni,Joshua Russell,and Mario Spachtholzfor <a href="../wishlist/index.html">sponsoring</a>over 110 days of health insurance.</p><p>Thanks toGregory Christie,Nicholas Rezmerski,James Denton,Janne Tompuri,James Torck,and Anonymousfor <a href="../wishlist/index.html">sponsoring</a>14 months of web hosting for the Gryphel project.</p><p><a name="n190804"> <b>August 4, 2019</b> </a>- <a href="nva8.html#n190804">permanent link</a></p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>now implements enough FPU instructions to be able to correctlyreassemble the complete Macintosh II ROM.</p><p><a name="n190721"> <b>July 21, 2019</b> </a>- <a href="nva8.html#n190721">permanent link</a></p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>now has a basic concept of types. Previously, it is some placesit would use a byte to represent the size of an integer: Byte,Word, or Long. Now, it still uses a byte, but only the lownibble represents the size, and the high nibble represents theclass - so far for signed, unsigned, and unknown sign integers.</p><p>One use of this is to provide better error checking. For example,previously, if there was a byte field representing the differencebetween two labels, it could only check whether the value wasbetween -128 and 255, since it did not know whether the field wassigned or unsigned. Now, if it is known to be signed, it can checkthe value is between -128 and 127, and if it is known to beunsigned, it can check the value is between 0 and 255.</p><p>The DC directive, in addition to supporting sizes of&ldquo;.B&rdquo;, &ldquo;.W&rdquo;, and &ldquo;.L&rdquo;,now also supports&ldquo;.SB&rdquo;, &ldquo;.SW&rdquo;, and &ldquo;.SL&rdquo;for signed fields, and&ldquo;.UB&rdquo;, &ldquo;.UW&rdquo;, and &ldquo;.UL&rdquo;for unsigned fields.</p><p>But the actual reason adding a type representation now isto have a way of dealing with floating point types,for implementing FPU instructions.</p><p> ------ </p><p>Thanks toDerek Etnyre,Tim Rodgers,John Feinberg,Lance Lannigan,Japhy Riddle,John Prchal,John Leake,Bronstrup Creative,Bruce Rayne,Ellery Bann,Matthew Tubbs,Thomas Jouneau,Sharon Lam,Macintosh Repository,Randall Trowbridge,Golan Klinger,FUJITA TAKUJI,Richard Lawson,David OConnor,Polycarpos Kostrivas,Bennett Foddy,Chris Hanson andHenry Shawcrossfor <a href="../wishlist/index.html">sponsoring</a>three months of web hosting for the Gryphel projectand over 23 days of health insurance.</p><p><a name="n190714"> <b>July 14, 2019</b> </a>- <a href="nva8.html#n190714">permanent link</a></p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>adds support for more 68020 instructions andaddressing modes. It can assemble up to byte 0x29524 of 0x40000in the Macintosh II ROM, at which point starts the floatingpoint package implementation using the FPU. So the next step is toadd support for FPU instructions.</p><p>The Alpha<a href="../minivmac/extras/fdisasm/a/roms.html">FDisasm ROM</a>page has updated formatting information for the PowerBook 100 ROM,which merges in output from the current FindRes tool.</p><p><a name="n190707"> <b>July 7, 2019</b> </a>- <a href="nva8.html#n190707">permanent link</a></p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>adds support for just enough additional 68020 instructions andaddressing modes to assemble the PowerBook 100 ROM. (This ROMhas some support for 68020, even though the PowerBook 100doesn&rsquo;t have one.)</p><p>The Alpha<a href="../minivmac/extras/fdisasm/a/roms.html">FDisasm ROM</a>page now has formatting information for the PowerBook 100 ROM.ReAsm can be used on the output to get back exactly the original ROMimage.</p><p><a name="n190630"> <b>June 30, 2019</b> </a>- <a href="nva8.html#n190630">permanent link</a></p><p>The Alpha<a href="../minivmac/extras/fdisasm/a/roms.html">FDisasm ROM</a>page now has formatting information for 7 other ROM versions in additionto the Macintosh Plus v3. For all of them, ReAsm can be used on theoutput to get back exactly the original ROM image.</p><p><a name="n190623"> <b>June 23, 2019</b> </a>- <a href="nva8.html#n190623">permanent link</a></p><p>A new development version of<a href="../minivmac/extras/findres/index.html">FindRes</a>uses the new nested local scopes feature of ReAsm and FDisasmfor pascal strings. It is also updated to remove the deprecated&ldquo;JM&rdquo; option of FDisasm, instead using the&ldquo;J . &lt;address&gt; = &lt;name&gt;&rdquo; syntax. And this syntaxis now also used for the AM option. The new &ldquo;T&rdquo; size optionof FDisasm and ReAsm is used for 3 byte fields. And a fewbugs in dealing with a Resources in ROM input file are fixed.</p><p>A new version of<a href="../minivmac/extras/fdisasm/a/index.html">FDisasm</a>,when outputting a blank line, indents it to the labelfield, to be compatible with ReAsm.Also, &ldquo;#define MakeListingMode 0&rdquo;, is now used forthe default compile. So, what was variation 2, producing outputsuitable for ReAsm, is now the default. And the previous default,with address and hex fields, is now variation 3.</p><p>The FDisasm alpha page includes a new version of formatting informationfor the Macintosh Plus ROM, that merges in the output from thecurrent FindRes. The deprecated &ldquo;&amp;&rdquo; format optionis completely removed.</p><p><a name="n190616"> <b>June 16, 2019</b> </a>- <a href="nva8.html#n190616">permanent link</a></p><p>A new version of<a href="../minivmac/extras/fdisasm/a/index.html">FDisasm</a>adds options &ldquo;{&rdquo; and &ldquo;}&rdquo; to outputnested locals scopes as implemented in ReAsm. Using theseloses compatibility with the MPW assembler, but I think can make theassembly code much easier to read.</p><p>It also add an &ldquo;IN&rdquo; option to output an INCLUDE directive,so that the resulting &ldquo;main.a&rdquo; file can be directly used byReAsm.</p><p>There are two new options for outputting comments on a separate line,with different indentations. &ldquo;C1&rdquo; indents a comment to thedirective field, and &ldquo;C2&rdquo; indents a comment to thecontinuation field. (The existing &ldquo;!&rdquo; option indents acomment to the label field on a separate line, and the existing&ldquo;;&rdquo; option puts a comment at the end of a line.)</p><p>Since compatibility with the MPW assembler is no longer beingrequired, I&rsquo;ve added a new size option &ldquo;T&rdquo;,like the existing &ldquo;B&rdquo;, &ldquo;W&rdquo;, and &ldquo;L&rdquo;options, but meaning 3 bytes (instead of 1, 2, or 4).This is useful, for example, in expressing the reference liststructure of a Macintosh resource fork, which has a one byteattributes field followed by a three byte offset field.</p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>adds support for using the new &ldquo;T&rdquo; size with the DCdirective. It also permits a comment indented to thecontinuation field, without needing a continuation character(&ldquo;\&rdquo;) on the previous line, as is generated by thenew C2 option of FDisasm.</p><p>The FDisasm alpha page includes a new version of formatting informationfor the Macintosh Plus ROM, that starts to take advantage ofthe new features.</p><p>An additional change to FDisasm is that the LblWithInstr compile timeoption (for including a label on the same line as an instruction)always defaults to false, since this is not supported by ReAsm.The LabelFieldW compile time option now defaults to 4, instead of 11,when LblWithInstr is false. (This same value is used for indentingfor the nested local scope options.) Outputting unknown datano longer tries to keep it aligned, since, align to what? Aligning tothe beginning of the file isn&rsquo;t usually useful. Output modenow always set to unknown data when the bin_map file indicatesa transition to a non code region, even if the preceding regionwas also not code.When using both the SC and AC options, the subtraction is now outputfirst, as this is what ReAsm requires.The &ldquo;,&rdquo; option previously did notwork to specify options for the second argument, if there wereno options for the first argument.</p><p><a name="n190609"> <b>June 9, 2019</b> </a>- <a href="nva8.html#n190609">permanent link</a></p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>now uses a hash table for symbols, making it much faster.The size of the table is chosen dynamically depending on availablememory.</p><p>A number of possible hash functions were tried out on the over 8000symbols used for the Macintosh Plus ROM assembly, and the resultsanalyzed with help of<a href="../sw/math/datadesk/index.html">Data Desk</a>. The chosenfunction is surprisingly good, with results distributed much likea truly random function, but a bit more uniform. At first thatdoesn&rsquo;t seem possible, but I think it is because most of labelsare in sequences like &ldquo;L2461&rdquo;, &ldquo;L2462&rdquo;,&ldquo;L2463&rdquo;. If labels are the same except for the last couplecharacters, which are digits, the chosen function will always generatedifferent hashes, while a more random function may not. Thechosen function is:</p><blockquote> <pre>x = RotateLeft(x, 8) - x;x = RotateLeft(x, 4) - x;x = x + s[i];</pre> </blockquote><p>(Loop on every character of string s. Then take the desired numberof low order bits. x is 32 bit unsigned integer initialized to 0.)</p><p><a name="n190602"> <b>June 2, 2019</b> </a>- <a href="nva8.html#n190602">permanent link</a></p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>partially implements the OPWORD and EQU directives, which allowsit to correctly assemble the Macintosh Plus ROM, from sourcedisassembled by<a href="../minivmac/extras/fdisasm/a/index.html">FDisasm</a>,using &ldquo;trap_names&rdquo; and &ldquo;abs_names&rdquo;.</p><p>It is currently very inefficient, because the data structure for lookingup symbols is just a linked list. Replacing this with a hash tableshould make it much faster.</p><p><a name="n190519"> <b>May 19, 2019</b> </a>- <a href="nva8.html#n190519">permanent link</a></p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>can now correctly assemble the Macintosh Plus ROM, from sourcedisassembled by a new version<a href="../minivmac/extras/fdisasm/a/index.html">FDisasm</a>,if the &ldquo;trap_names&rdquo; and &ldquo;abs_names&rdquo; aren&rsquo;tused.</p><p>ReAsm now supports the MoveC instruction, which is for 68020. TheMacintosh Plus ROM uses this instruction to detect whether itis running on a 68020, which it will actually work with. Alsosupported is using an offset from a label, instead of just thelabel, such as in &ldquo;Jmp (DT20 - $2)(D0.W)&rdquo;.</p><p>FDisasm now has both an alpha branch and a stable branch,just like Mini vMac itself has different branches. The newalpha branch of FDisasm now uses &ldquo;MoveC&rdquo; insteadof &ldquo;MOVEC&rdquo; (ReAsm is case sensitive), and outputssize &ldquo;.L&rdquo; for MoveC. Also the DBcc instructions are nolonger given a &ldquo;.W&rdquo; size.</p><p><a name="n190505"> <b>May 5, 2019</b> </a>- <a href="nva8.html#n190505">permanent link</a></p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>implements an &ldquo;ALIGNB&rdquo; directive, align to base,which is generated by FDisasm. (When using the MPW assembler,ALIGNB can be implemented with a macro.)</p><p>Another change is that labels now follow the MPW rules - thefirst character can be a letter, &lsquo;_&rsquo;, or&lsquo;@&rsquo;, and following characters can also includenumbers, &lsquo;#&rsquo;, &lsquo;$&rsquo;, or &lsquo;%&rsquo;.For this to work, the numeric constants are now handled atthe tokenization level. This made it simple to add supportfor decimal constants. (FDisasm only generates hexadecimal andbinary constants for speed.) The tokenization level can nowreport syntax errors the same as previously was done for higherlevel errors, including file name and line number.</p><p><a name="n190428"> <b>April 28, 2019</b> </a>- <a href="nva8.html#n190428">permanent link</a></p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>supports the specific constant expressions that can be generated by<a href="../minivmac/extras/fdisasm/index.html">FDisasm</a> withthe AC, SC, and DC options. Also, it now uses single quotes insteadof double quotes for string constants and INCLUDE directives, tomatch the MPW assembler.</p><p>And, the &ldquo;err_log&rdquo; file now includesthe file name and path, not just the line number. Further, it givesthis not just for the line with the error, but for any INCLUDEdirectives that got it there.</p><p>And also, if a folder named &ldquo;source&rdquo; exists in thefolder containing the application, ReAsm will now look for sourcein that folder.</p><p><a name="n190421"> <b>April 21, 2019</b> </a>- <a href="nva8.html#n190421">permanent link</a></p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>implements the &ldquo;INCLUDE&rdquo; directive, whichcan be arbitrarily nested.Also, the implementation of buffered read of input files isnow more efficient.</p><p><a name="n190414"> <b>April 14, 2019</b> </a>- <a href="nva8.html#n190414">permanent link</a></p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>now uses the MPW Assembler syntax for line continuations - usinga backslash character. Also, the Immediate addressing mode isnow handled by the same code used for &ldquo;DC&rdquo;, and sonow supports subtraction of 2 labels. Debugging infrastructurecode has been added.</p><p>ReAsm no longer displays an alert for syntax errors. Instead itcreates a file name &ldquo;err_log&rdquo;. This makes it easier to useReAsm from MPW scripts. If an error occurs, the output &ldquo;bin&rdquo;file is deleted. If no error occurs, the &ldquo;err_log&rdquo; isdeleted if it already exists. The line number where a syntax erroroccurred is written to the &ldquo;err_log&rdquo; file.</p><p><a name="n190407"> <b>April 7, 2019</b> </a>- <a href="nva8.html#n190407">permanent link</a></p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>now supports&ldquo;DBcc&rdquo; and&ldquo;MoveM&rdquo; instructions, which I think completes the setof 68000 instructions. (There are additional instructions for 68020 andlater not yet implemented.) There is also support for using labels forsome kinds of pc relative addressing modes. There is also somechange in syntax for greater compatibility with the MPW assembler,and FDisasm - global labels no longer start with &lsquo;.&rsquo;,and binary constants just start with &ldquo;%&rdquo; insteadof &ldquo;$%&rdquo;.</p><p>There is also a new version of<a href="../minivmac/extras/fdisasm/index.html">FDisasm</a>with improved compatibility with ReAsm. It will now output&ldquo;.W&rdquo; for word sized operations, rather than relyingon the default being word. I feel this is better style andReAsm currently requires it. There is also some new compile timeoptions for ReAsm compatibility, such as forcinglabels to be on a separate line, and using tab to indent instructions.These options are used in the fdis0002 variation I provide.</p><p> <b>March 31 2019</b> </p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>now supports&ldquo;AsL&rdquo;,&ldquo;AsR&rdquo;,&ldquo;LsL&rdquo;,&ldquo;LsR&rdquo;,&ldquo;ROL&rdquo;,&ldquo;ROR&rdquo;,&ldquo;ROXL&rdquo;,&ldquo;ROXR&rdquo;,&ldquo;Rtr&rdquo;,&ldquo;TrapV&rdquo;,&ldquo;Illegal&rdquo;,&ldquo;Trap&rdquo;,&ldquo;Stop&rdquo;,&ldquo;Chk&rdquo;,&ldquo;Tas&rdquo;,&ldquo;MoveP&rdquo;,&ldquo;MulU&rdquo;,&ldquo;MulS&rdquo;,&ldquo;DivU&rdquo;,&ldquo;DivS&rdquo;, and&ldquo;TDivU&rdquo;, instructions.</p><p> <b>March 24 2019</b> </p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>now supports&ldquo;And&rdquo;, &ldquo;AndI&rdquo;,&ldquo;Or&rdquo;, &ldquo;OrI&rdquo;,&ldquo;Eor&rdquo;, &ldquo;EorI&rdquo;,&ldquo;Cmp&rdquo;, &ldquo;CmpI&rdquo;, &ldquo;CmpA&rdquo;, &ldquo;CmpM,&ldquo;MoveQ&rdquo;,&ldquo;Nop&rdquo;, &ldquo;Rte&rdquo;, &ldquo;Reset&rdquo;,&ldquo;Exg&rdquo;, &ldquo;Ext&rdquo;, &ldquo;ExtB&rdquo;,&ldquo;Swap&rdquo;, &ldquo;Scc&rdquo;,&ldquo;Link&rdquo;, &ldquo;Unlk&rdquo;,&ldquo;Abcd&rdquo;, &ldquo;Sbcd&rdquo;, &ldquo;Nbcd&rdquo;,&ldquo;BChg&rdquo;, &ldquo;BClr&rdquo;,&ldquo;BSet&rdquo;, and &ldquo;BTst&rdquo; instructions.</p><p> <b>March 17 2019</b> </p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>now supports &ldquo;Move&rdquo; to/from CCR/SR/USP, &ldquo;MoveA&rdquo;,&ldquo;Add&rdquo;, &ldquo;AddA&rdquo;, &ldquo;AddI&rdquo;,&ldquo;AddX&rdquo;, &ldquo;AddQ&rdquo;,&ldquo;Sub&rdquo;, &ldquo;SubA&rdquo;, &ldquo;SubI&rdquo;,&ldquo;SubX&rdquo;, &ldquo;SubQ&rdquo;,&ldquo;Neg&rdquo;, &ldquo;NegX&rdquo;,&ldquo;Not&rdquo;, and &ldquo;Tst&rdquo; instructions.</p><p> <b>March 10 2019</b> </p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>now supports &ldquo;Jmp&rdquo;, &ldquo;Jsr&rdquo;, &ldquo;Rts&rdquo;,&ldquo;Pea&rdquo;, and &ldquo;Lea&rdquo; instructions.</p><p><a name="n190303"> <b>March 3, 2019</b> </a>- <a href="nva8.html#n190303">permanent link</a></p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>now supports the brief extension word format foraddressing mode 6 and mode 7,3. The full extension word formatremains to be implemented.</p><p><a name="n190224"> <b>February 24, 2019</b> </a>- <a href="nva8.html#n190224">permanent link</a></p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>now supports &ldquo;Clr&rdquo; and &ldquo;Move&rdquo; instructions.And more significantly, implements all the addressing modes ofthese instructions, with exceptions of mode 6, and mode 7 withreg 3 (which are more complicated than all the rest of the modesput together). Once a couple instructions are implemented completelyand satisfactorily, it will be a relatively simple to add most of therest.</p><p><a name="n190217"> <b>February 17, 2019</b> </a>- <a href="nva8.html#n190217">permanent link</a></p><p>Today&rsquo;s version of<a href="../minivmac/extras/fdisasm/index.html">FDisasm</a>fixes a bug<a href="../mail/v9.html#m129">reported by Ryan</a>that affected disassembling floating point conditionallong branches. It also partially reverts for now a change madein 1.2.6. If an instruction (or data) that is about to be output islonger than the space left to be disassembled, it will nownot abort outputting the instruction, and just give a warning.This version also starts to provide ways to avoid the situationsthat lead to this problem. Disassembly of PC relative addressingmodes can now use the AC and SC options for adding or subtractinga constant. There is a new &lsquo;,&rsquo; option to indicate whichargument options like AC and SC apply to. It also now checks thatsuch one time options are actually used by the current instruction,and prints a warning if not.</p><p>In today&rsquo;s version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>,string constants can have continuation lines. A return character,optionally followed by one or more tab characters, is acceptedin a string constant and ignored. If you want a return character in thestring constant, &ldquo;\r&rdquo; should be used intead. Tabs are notallowed elsewhere in string constant, &ldquo;\t&rdquo; should be usedinstead. A space character is not allowed before or after a returncharcter in a string constant, &ldquo;\s&rdquo; should be used instead.Any arbitrary character can now be put in a string constant, byspecifying it in hexadecimal, such as &ldquo;\xB5&rdquo;.</p><p><a name="n190210"> <b>February 10, 2019</b> </a>- <a href="nva8.html#n190210">permanent link</a></p><p>In today&rsquo;s version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>, whitespace is now significant in the syntax of the input, which makesit possible to be closer to other 680x0 assemblers such as theMPW assembler. The &ldquo;Bra&rdquo; now supports normal manualsize options (like "Bra.B"), in addition to the previous automaticsize. Global labels are now disallowed inside a local contextdefined by &ldquo;{&rdquo; and &ldquo;}&rdquo;. Also, local labelscan be used outside of &ldquo;{&rdquo; and &ldquo;}&rdquo;, whereeach global label starts a new local context, which is how theMPW assembler does local labels. String constants now supportusing a &ldquo;\&rdquo; escape mechanism to specify characters thatcannot be used directly inside a string constant, like the doublequote character.</p><p><a name="n190203"> <b>February 3, 2019</b> </a>- <a href="nva8.html#n190203">permanent link</a></p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>now supports &ldquo;Bra&rdquo; statements which automaticallychooses whether to use the Byte or Word offset form. This is a bittricky, because which form is used changes the size ofthe instruction, which can change whether Byte form can beused in that instruction and other instructions. Wanting thiscapability affects the architecture of ReAsm, which is whythis was added before implementing all the normal instructions.</p><p>Also added in this version is support for string constants.</p><p><a name="n190127"> <b>January 27, 2019</b> </a>- <a href="nva8.html#n190127">permanent link</a></p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>now supports binary constants and local labels.An example input file is included. (But the same warningsstill apply.)</p><p><a name="n190120"> <b>January 20, 2019</b> </a>- <a href="nva8.html#n190120">permanent link</a></p><p>A new version of<a href="../minivmac/extras/reasm/index.html">ReAsm</a>now supports labels, and constant fields that are the differencebetween two labels. An example input file is included. ButReAsm is still not fit for any purpose. The syntax of the inputwill change. The source code is lousy - it is in theexploratory stage, while I'm still working out exactly what theprogram will do and how it will work.</p><p><a name="n190113"> <b>January 13, 2019</b> </a>- <a href="nva8.html#n190113">permanent link</a></p><p><a href="../minivmac/extras/reasm/index.html">ReAsm</a>ReAsm is a new application for reassembling the output of FDisasm.Or that is the eventual intention. It doesn&rsquo;t do much yet.</p><p>Unlike other Macintosh Assemblers, ReAsm will have no awarenessof the structures of a Macintosh application, or even the structureof a Macintosh resource fork. It instead it can be used to produceany arbitrary flat data file. This makes it better suitedfor reassembling output of FDisasm, after making some desiredchange.</p><p><a name="n190106"> <b>January 6, 2019</b> </a>- <a href="nva8.html#n190106">permanent link</a></p><p>The<a href="../minivmac/extras/findres/index.html">FindRes 1.2.5</a>and<a href="../minivmac/extras/fdisasm/index.html">FDisasm 1.2.6</a>tools are updated.</p><p>FDisasm now has a &ldquo;BN&rdquo; option that modifies&ldquo;B&rdquo;, &ldquo;W&rdquo; and &ldquo;L&rdquo; to displaybinary instead of hex. FindRes now uses this for&lsquo;ICN#&rsquo;,&lsquo;ICON&rsquo;,&lsquo;CURS&rsquo;,&lsquo;SICN&rsquo;,&lsquo;PAT &rsquo; and&lsquo;ics#&rsquo;.</p><p>FindRes now supports the newer form of &lsquo;ALRT&rsquo; and&lsquo;DLOG&rsquo; resources, which have anadditional &ldquo;Auto Position&rdquo; field. Support for&ldquo;DRVR&rdquo; resources is improved.</p><p>FDisasm now has a compile time configuration file&ldquo;CONFIGUR.i&rdquo;, with default values specified in thefile &ldquo;CNFGDLFT.i&rdquo;. In particular I provide fordownload a variation that doesn&rsquo;t output the address andhex dump fields, so that the result is suitable input foran assembler.</p><p><a name="n181230"> <b>December 30, 2018</b> </a>- <a href="nva8.html#n181230">permanent link</a></p><p>The<a href="../minivmac/extras/findres/index.html">FindRes 1.2.4</a>tool is updated to give information for resource types&lsquo;vers&rsquo;,&lsquo;BNDL&rsquo;,&lsquo;SIZE&rsquo;,&lsquo;STR#&rsquo;,&lsquo;STR &rsquo;,&lsquo;ALRT&rsquo;,&lsquo;DLOG&rsquo;,&lsquo;WIND&rsquo;,&lsquo;CNTL&rsquo;,&lsquo;MBAR&rsquo;,&lsquo;MENU&rsquo;,&lsquo;ICN#&rsquo;,&lsquo;ICON&rsquo;,&lsquo;SICN&rsquo;,&lsquo;ics#&rsquo;,&lsquo;CURS&rsquo; and&lsquo;PAT &rsquo;.Also, support for &lsquo;CODE&rsquo; and &lsquo;DITL&rsquo;resources is improved.</p><p><a href="../minivmac/extras/fdisasm/index.html">FDisasm 1.2.5</a>is updated to properly limit the size of the hex field. Previouslythe hex field would be incorrect for very long lines, such as can begenerated with the new &ldquo;C&rdquo; option. (For the future,it would be good to limit the length of lines generated by thisoption.)</p><p><a name="n181223"> <b>December 23, 2018</b> </a>- <a href="nva8.html#n181223">permanent link</a></p><p>The<a href="../minivmac/extras/findres/index.html">FindRes 1.2.3</a>tool is updated to give information for resource types&lsquo;FREF&rsquo; and &lsquo;DITL&rsquo;. To support this,<a href="../minivmac/extras/fdisasm/index.html">FDisasm 1.2.4</a>is updated to support an alignment option in the format file.(Items in a DITL are padded to an even number of bytes.)</p><p><a name="n181216"> <b>December 16, 2018</b> </a>- <a href="nva8.html#n181216">permanent link</a></p><p><a href="../minivmac/extras/fdisasm/index.html">FDisasm 1.2.3</a>is updated to add new options for the format file, to supporttext fields, and adding more modifiers for offset fields.</p><p>The<a href="../minivmac/extras/findres/index.html">FindRes 1.2.2</a>tool is updated to begin to take advantage of these newFDisasm features.</p><p>So now if you re-assemble the output ofFDisasm that was based on output of FindRes, you can make changesto the assembly file that affect the length of resources, and stillhave a valid resource fork.</p><p><a name="n181209"> <b>December 9, 2018</b> </a>- <a href="nva8.html#n181209">permanent link</a></p><p>Thinking that the Advanced Variations Service may be tooadvanced, I have renamed it to the<a href="../minivmac/vart_srv.html">Text Based Variations Service</a>,and then made a new<a href="../minivmac/vara_srv.html">Advanced Variations Service</a>that is like the<a href="../var/index.html">Basic Variations Service</a>but with more options, that is, the same as what the onlyVariations Service was for Mini vMac 3.5.8, but with newMini vMac 36 options added.</p><p><a href="../minivmac/extras/fdisasm/index.html">FDisasm</a>is updated to add the ability to specify labels in the format file (inaddition to the "bin_names" file), so that a single address can havemultiple labels. Also in the format file, you can now specify a one timename to use in an address field argument (overriding the "bin_names"file). Similarly, in the format file, can you specify a name to use forthe current base address used by the D option.</p><p>The<a href="../minivmac/extras/findres/index.html">FindRes</a>tool is updated to begin to take advantage of these newFDisasm features.</p><p><a name="n181202"> <b>December 2, 2018</b> </a>- <a href="nva8.html#n181202">permanent link</a></p><p><a href="../minivmac/extras/findres/index.html">FindRes</a>is updated to support AppleSingle format, such as created by<a href="../minivmac/extras/aspack/index.html">asPack</a>.</p><p><a name="n181125"> <b>November 25, 2018</b> </a>- <a href="nva8.html#n181125">permanent link</a></p><p>I&rsquo;ve updated<a href="../minivmac/extras/findres/index.html">FindRes</a>to use the latest versions of my common source code, in preparationfor making it support AppleSingle format. But these updatesare not yet public. Thanksgiving and stuff took time this pastweek.</p><p><a name="n181118"> <b>November 18, 2018</b> </a>- <a href="nva8.html#n181118">permanent link</a></p><p><a href="../minivmac/extras/asunpack/index.html">asUnpack</a>is a new application to unpack a file in AppleSingle format.It is the inverse of last week&rsquo;s<a href="../minivmac/extras/aspack/index.html">asPack</a>.</p><p><a name="n181111"> <b>November 11, 2018</b> </a>- <a href="nva8.html#n181111">permanent link</a></p><p><a href="../minivmac/extras/aspack/index.html">asPack</a>is a new application to convert a file you select into AppleSingle format.</p><p>AppleSingle format saves all the parts of a Macintosh file (includingthe data fork, the resource fork, file type and creator,the creation/modification dates, and other meta data) into asingle simple sequence of bytes that can be transferred tonon Macintosh file systems without losing any information.</p><p>But the intended use for asPack is for use with<a href="../minivmac/extras/fdisasm/index.html">FDisasm</a>,as an alternative to<a href="../minivmac/extras/getrsfrk/index.html">GetRsFrk</a>,once <a href="../minivmac/extras/findres/index.html">FindRes</a>is updated to support the AppleSingle format. This is whythe output of asPack is saved to a file named &ldquo;bin&rdquo;.</p><p><a name="n181104"> <b>November 4, 2018</b> </a>- <a href="nva8.html#n181104">permanent link</a></p><p><a href="../sw/games/galfront/index.html">Galactic Frontiers</a>has been added to the software hosted by the GryphelProject.</p><p>(As part of continued testing of the newly officially released<a href="../minivmac/download.html">Mini vMac 36.04</a>.)</p><p><a name="n181028"> <b>October 28, 2018</b> </a>- <a href="nva8.html#n181028">permanent link</a></p><p>Mini vMac 36.04 is now officially released. That is, it is nowdeclared to be the stable version, with no change made to thesource code or compiled applications.It is available from the main<a href="../minivmac/download.html">Mini vMac Download</a> page.The<a href="../minivmac/change/v36.html">Changes</a> file listswhat has changed since Mini vMac 3.5.8.</p><p>The old<a href="../minivmac/old.html">Mini vMac 3.5.8</a> is stillavailable for download, in case there are any serious problems withthe new version. For this release I&rsquo;m trying somethingdifferent. Instead of a long beta period and then no furtherchanges after, with bug fixes only in the development branch,this time the beta period was shorter and there may still be furtherbug fix releases to the stable branch.</p><p><a name="n181021"> <b>October 21, 2018</b> </a>- <a href="nva8.html#n181021">permanent link</a></p><p><a href="../sw/sysutils/typit4me/index.html">TypeIt4Me</a>has been added to the software hosted by the GryphelProject.(As part of testing the new<a href="../minivmac/beta.html">Mini vMac 36.04</a> beta.)</p><p>All the digital signatures on this website have been updatedto the GRY format. This was accomplished in a reasonable time byusing MPW scripting and my signature tools for MPW.The tools<a href="../minivmac/extras/sigchktl/index.html">SigChkTl</a>,<a href="../minivmac/extras/sigwrttl/index.html">SigWrtTl</a>, and<a href="../minivmac/extras/mkkeystl/index.html">MkKeysTl</a>,have been updated to spin the cursor, so as to work better withthe AutoSlow feature of Mini vMac. There is also a new tool<a href="../minivmac/extras/psgchktl/index.html">PSgChkTl</a>,for checking the old MacPGP format signatures.</p><p><a name="n181014"> <b>October 14, 2018</b> </a>- <a href="nva8.html#n181014">permanent link</a></p><p><a href="../sw/sysutils/soundmvr/index.html">Sound Mover 1.74</a>has been added to the software hosted by the GryphelProject.</p><p>(As part of testing the new<a href="../minivmac/beta.html">Mini vMac 36.04</a> beta.)</p><p><a name="n181007"> <b>October 7, 2018</b> </a>- <a href="nva8.html#n181007">permanent link</a></p><p>The latest <a href="../minivmac/beta.html">Mini vMac 36.04</a> betafixes a few issues in the classic Macintosh port. (The fixeswere developed inside Mini vMac.)</p><p>The new&ldquo;<a href="../minivmac/options.html#option_svd">-svd 0</a>&rdquo;option is now implemented in classic Macintosh port. While doingthis, it turned out that the build system was generating an incorrectRez command for the MPW development environment. It also turnedout that if debug logging was turned on for this port, and the logalready existed when Mini vMac started, the log wasn&rsquo;t cleared.</p><p>An unrelated change is that default version of XCode chosen by the buildsystem is now 9.4.1, the latest version supported. Since XCode is nolonger used for official Mini vMac builds, there is no reason to defaultto the specific antique version previously used. Similarly,Microsoft Visual Studio 2017 is now the default version chosen forthat development environment.</p><p><a name="n180930"> <b>September 30, 2018</b> </a>- <a href="nva8.html#n180930">permanent link</a></p><p>The latest <a href="../minivmac/beta.html">Mini vMac 36.03</a>beta attempts preliminary translations for the strings&ldquo;copy variation options&rdquo; and&ldquo;Variation options copied&rdquo;,by looking at Apple&rsquo;s translated strings for the Edit menuof the Finder, and using Google Translate. Only &ldquo;Copy&rdquo;and &ldquo;Copied&rdquo; are translated, not&ldquo;Variation Options&rdquo;.The<a href="../minivmac/local/index.html">Localization</a>pages are updated accordingly.</p><p><a name="n180923"> <b>September 23, 2018</b> </a>- <a href="nva8.html#n180923">permanent link</a></p><p>I have begun moving the Gryphel Project to &ldquo;GRY&rdquo; formatdigital signatures. There are three new keys:</p><p><a href="../keys/k3.html">Gryphel Key 3</a> is the new main publickey, to be used only for signing other keys.</p><p><a href="../keys/k4.html">Gryphel Key 4</a> is forsigning variations. The Gryphel Project Variations Service nowuses this key, for both Mini vMac 3.5.8 and Mini vMac 36 in beta.</p><p><a href="../keys/k5.html">Gryphel Key 5</a> is for signingother downloads. The Mini vMac standard variations are nowsigned with this key.</p><p>The MPW tools for digital signatures,<a href="../minivmac/extras/sigchktl/index.html">SigChkTl</a>,<a href="../minivmac/extras/sigwrttl/index.html">SigWrtTl</a>, and<a href="../minivmac/extras/mkkeystl/index.html">MkKeysTl</a>,have been updated to the latest code and use &ldquo;GRY&rdquo; format.</p><p> : </p><p><a name="n180916"> <b>September 16, 2018</b> </a>- <a href="nva8.html#n180916">permanent link</a></p><p>Today&rsquo;s <a href="../minivmac/beta.html">Mini vMac 36.02</a>beta has a few fixes.</p><p>The game PowerMonger was<a href="../mail/v8.html#m109">reported</a>not to work in Mini vMac 3.5.8, though it worked in 3.4.1.This was due to a bug in emulating the TRAPcc instruction.</p><p>While looking into a<a href="http://forum.princed.org/viewtopic.php?f=63&amp;t=3009&amp;sid=69db25d9e62ba6e7b82dd21d74e0c555&amp;start=15#p24532">report</a>of issues with Num Lock, I found that on Windows, if Num Lock is on,the operating passes virtual key codes like VK_NUMPAD0 throughVK_NUMPAD9, but if Num Lock is off, it passes virtual key codes likeVK_LEFT, VK_RIGHT, VK_UP, and VK_DOWN. A flag bit indicates whetherVK_LEFT means the left arrow key or the 4 key on the keypad. Sonow Mini vMac will check that flag, and map the keys on the keypadto the emulated Macintosh keypad, regardless of whether Num Lockis on. (But this doesn&rsquo;t fully explain the reported issue.)</p><p>It also turns out that on Windows (at least on some machines andos versions) the operating system does not use virtual key codesVK_LCONTROL/VK_RCONTROL/VK_LMENU/VK_RMENU, but instead usesVK_CONTROL/VK_MENU with that same flag bit to indicate whetherit was the left or right key. If Mini vMac is compiled with&ldquo;<a href="../minivmac/options.html#option_km">-km</a>&rdquo;options that require distinguishing between left and right, thenthat is checked for VK_CONTROL/VK_MENU.</p><p>Also on Windows, I noticed that the &ldquo;menu key&rdquo; (VK_APPS),is usually on the right side of key (if present at all), and sonow maps to the right option key instead of the left, if -km optionsrequire distinguishing them.</p><p>The Cocoa OS X port now implements distinguishing between leftand right modifier keys. But this requires looking at undocumentedflags of the key event, which might or might not always work,so it is not done unless -km options are used that require it.(I have not found any way to distinguish left and right modifiersin the Carbon OS X port.)</p><p>Also in the Cocoa OS X port, launching Mini vMac by drag and drop of adisk image on to the application icon would not work because ofthe new code to allow drag and drop of the ROM image. Someinitialization stuff for Cocoa caused file open requests to be receivedearlier than expected, so that initialization has been moved later,after the ROM has been looked for in the usual places.</p><p><a name="end">:</a></p><p><a href="nva7.html">Older News</a>(<a href="index.html">Index</a>)</p><hr><div><i> <a href="../../index.html">www.gryphel.com</a>/c/<a href="index.html">news</a>/nva8- <a href="../feedback.html">feedback</a> </i></div></body></html>